commit b678600ac94ee9cf3e679bb6128cd77b169231cb
Merge: ec666a5 694d883
Author: bors <bors@rust-lang.org>
Date:   Tue Mar 29 18:03:35 2016 -0700

    Auto merge of #32576 - alexcrichton:metadata-for-our-crates, r=brson
    
    mk: Fix cross-host builds
    
    The change in b20e748 had the unintended consequence of breaking cross-host
    builds as we apparently relied on the incorrect definition of this variable in
    the makefiles. That change, however, was required to get tests passing so we
    couldn't just revert it.
    
    This commit fixes the underlying bug by leaving the "more correct" definition of
    `LD_LIBRARY_PATH_ENV_TARGETDIR` (also fixing it with a hardcoded reference to
    `CFG_BUILD`) and updating the `RPATH_VAR` definition below. Turned out we
    already had special-casing logic for passing `--cfg stage1` during the
    well-we-print-this-as-stage0 build of a cross-host. That logic was just updated
    to pull from a different variable as opposed to relying on the definition of
    that variable to accommodate this.
    
    Closes #32568
rustc: ./html5ever-2015-05-15
cargo rustc -- -Ztime-passes -Zinput-stats
    Updating registry `https://github.com/rust-lang/crates.io-index`
    Updating git repository `https://github.com/reem/rust-mac`
    Updating git repository `https://github.com/servo/string-cache`
 Downloading phf_generator v0.7.14
 Downloading phf v0.7.14
 Downloading phf_shared v0.7.14
 Downloading phf_macros v0.7.14
   Compiling void v1.0.1
   Compiling lazy_static v0.1.15
   Compiling rustc-serialize v0.3.18
   Compiling libc v0.2.8
   Compiling num v0.1.31
   Compiling winapi v0.2.6
   Compiling winapi-build v0.1.1
   Compiling mac v0.0.2 (https://github.com/reem/rust-mac#6316d3f4)
   Compiling phf_shared v0.7.14
   Compiling unreachable v0.1.1
   Compiling debug_unreachable v0.0.6
   Compiling kernel32-sys v0.2.1
   Compiling phf v0.7.14
   Compiling time v0.1.34
   Compiling rand v0.3.14
   Compiling log v0.3.5
   Compiling serde v0.6.15
   Compiling phf_generator v0.7.14
   Compiling string_cache_shared v0.1.12
   Compiling phf_macros v0.7.14
   Compiling string_cache v0.1.17
   Compiling html5ever_macros v0.0.0 (file:///root/benchmarks/html5ever-2015-05-15)
Build failed, waiting for other jobs to finish...
makefile:2: recipe for target 'all' failed
done
